(function(){"use strict";var e={4922:function(e,t,n){var s=n(1540),a=n.n(s),i=n(6971),r=n.n(i),o=n(2804),l=n.n(o),c=n(8192),d=n.n(c),u=n(5583),m=n.n(u),p=n(9371),g=n.n(p),w=n(2838),v=n.n(w),f=n(6369),h=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{style:{backgroundImage:"url("+e.backgroundImgUrl+")"},attrs:{id:"bg-image"}}),t("transition",{attrs:{name:"el-fade-in-linear"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.newBGImgFlag,expression:"newBGImgFlag"}],staticClass:"transition-box",style:{backgroundImage:"url("+e.newBackgroundImgUrl+")"},attrs:{id:"bg-image"}})]),t("div",{style:{opacity:e.loadStatus},attrs:{id:"cover"}}),t("TopView",{attrs:{"website-item-list":e.websiteItemList},on:{networkEnvChange:function(t){e.networkEnv=t}}}),t("ListView",{attrs:{"website-item-list":e.websiteItemList,"network-env":e.networkEnv,"website-item-num":e.websiteItemNum}}),t("EndView",{attrs:{version:"Version: "+e.version}})],1)},b=[],k=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"text-align":"center"}},e._l(e.websiteItemList,(function(n,s){return t("span",{key:s},[t("TitleBar",{attrs:{"icon-class":n.titleIconName,"title-name":n.title,id:"aTitle"+s}}),e._l(n.list,(function(n,s){return["1"===e.networkEnv&&"VPN"===n.accessWay?t("WebsiteItem",{key:s,attrs:{link:n.vpnLink,"image-src":n.imageUrl,name:n.name,desc:n.desc,"access-way":n.accessWay}}):t("WebsiteItem",{key:s,attrs:{link:n.link,"image-src":n.imageUrl,name:n.name,desc:n.desc,"access-way":n.accessWay}})]})),e._l(e.fillElementNum(n.list.length),(function(e){return[t("WebsiteItem",{key:e+"-hidden",staticStyle:{visibility:"hidden"}})]}))],2)})),0)},y=[],I=function(){var e=this,t=e._self._c;return t("a",{attrs:{id:"item",href:e.link,target:"_blank"}},[t("el-row",[t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:9}},[t("img",{attrs:{id:"imageIcon",src:e.imageSrc,alt:e.name}}),void 0!==e.accessWay&&""!==e.accessWay?t("span",["仅内网"===e.accessWay?t("span",{staticStyle:{"background-color":"rgb(245, 108, 108)"},attrs:{id:"accessWay"}},[e._v(e._s(e.accessWay))]):"VPN"===e.accessWay?t("span",{staticStyle:{"background-color":"rgb(103, 194, 58)"},attrs:{id:"accessWay"}},[e._v(e._s(e.accessWay))]):"公网"===e.accessWay?t("span",{staticStyle:{"background-color":"rgb(64, 158, 255)"},attrs:{id:"accessWay"}},[e._v(e._s(e.accessWay))]):t("span",{attrs:{id:"accessWay"}},[e._v(e._s(e.accessWay))])]):e._e()]),t("el-col",{attrs:{span:15}},[t("div",{staticStyle:{"margin-left":"8px"}},[t("span",{attrs:{id:"itemName"}},[e._v(e._s(e.name))]),t("br"),t("span",{attrs:{id:"itemDesc"}},[e._v(e._s(e.desc))])])])],1)],1)},E=[],S={name:"WebsiteItem",props:{link:String,imageSrc:String,name:String,desc:String,accessWay:String},methods:{}},x=S,_=n(1001),L=(0,_.Z)(x,I,E,!1,null,"44c96d6e",null),W=L.exports,C=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"titleBar"}},[t("span",{attrs:{id:"titleBarContext"}},[t("i",{class:e.iconClass}),t("span",[e._v(e._s(e.titleName))])])])},T=[],N={name:"TitleBar",props:{iconClass:String,titleName:String}},V=N,B=(0,_.Z)(V,C,T,!1,null,"69404af8",null),O=B.exports,U={name:"ListView",data(){return{displayWidth:0,itemWidth:230,itemHeight:130}},methods:{},components:{TitleBar:O,WebsiteItem:W},props:{websiteItemList:{},networkEnv:String,websiteItemNum:Number},computed:{fillElementNum(){return function(e){let t=Math.floor(this.displayWidth/this.itemWidth);0===t&&(t=1);let n,s=e%t;return 0===s&&(s=t),n=t-s,n}}},mounted(){const e=new ResizeObserver((()=>{this.displayWidth=document.documentElement.clientWidth}));e.observe(document.documentElement)}},P=U,j=(0,_.Z)(P,k,y,!1,null,null,null),M=j.exports,Z=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"topView"}},[t("div",{attrs:{id:"topViewBlock"}},[t("el-row",{attrs:{id:"topViewContext"}},[t("el-col",{attrs:{id:"topViewTitle",span:6,xs:24}},[t("i",{staticClass:"el-icon-s-promotion"}),t("span",[e._v("学校常用网站")])]),t("el-col",{attrs:{span:12,xs:15}},[t("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{id:"searchInput","fetch-suggestions":e.querySearch,placeholder:"搜索网站","trigger-on-focus":!1,"prefix-icon":"el-icon-search"},on:{select:e.handleSelect},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}})],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:6,xs:9}},[t("div",{attrs:{id:"selectNetworkEnv"}},[t("el-radio",{staticClass:"networkEnvSelect",attrs:{label:"0"},model:{value:e.networkEnv,callback:function(t){e.networkEnv=t},expression:"networkEnv"}},[e._v("内网")]),t("br"),t("el-radio",{staticClass:"networkEnvSelect",attrs:{label:"1"},model:{value:e.networkEnv,callback:function(t){e.networkEnv=t},expression:"networkEnv"}},[e._v("外网")])],1)]),t("el-col",{attrs:{span:24,xs:0}},[t("br"),t("br")]),t("el-col",{attrs:{span:24}},[t("el-tabs",{attrs:{id:"tabs"},on:{"tab-click":e.scrollToElement},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},e._l(e.websiteItemList,(function(e,n){return t("el-tab-pane",{key:n,attrs:{label:e.title,name:n+""}})})),1)],1)],1)],1)])},F=[],D=(n(7658),{name:"TopView",data(){return{searchInput:"",searchList:[],networkEnv:"0",tabIndex:"0"}},props:{websiteItemList:{}},methods:{fillSearchList(){let e=this.websiteItemList;e.forEach((e=>{e.list.forEach((e=>{this.searchList.push({value:e.name,link:e.link})}))}))},querySearch(e,t){let n;0===this.searchList.length&&this.fillSearchList(),n=e?this.searchList.filter((t=>-1!==t.value.toLowerCase().indexOf(e.toLowerCase()))):this.searchList,t(n)},handleSelect(e){window.open(e.link)},scrollToElement(e){document.documentElement.scrollTop=document.getElementById("aTitle"+e.index).offsetTop-10}},mounted(){let e,t;(e=window.localStorage.getItem("site"))&&"world.lxc.www.go.school"===e?!(t=window.localStorage.getItem("networkEnv"))||"0"!==t&&"1"!==t?window.localStorage.setItem("networkEnv",this.networkEnv):this.networkEnv=t:(window.localStorage.clear(),window.localStorage.setItem("site","world.lxc.www.go.school")),this.$emit("networkEnvChange",this.networkEnv)},watch:{networkEnv:function(e){window.localStorage.setItem("networkEnv",e),this.$emit("networkEnvChange",this.networkEnv)}}}),G=D,R=(0,_.Z)(G,Z,F,!1,null,"22bc6149",null),$=R.exports,A=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"end-block"}},[t("div",{attrs:{id:"info"},on:{click:e.openVersionInfo}},[t("span",{attrs:{id:"info-context"}},[e._v(e._s(e.version))])])])},H=[],q=n(7881),z=n.n(q),J={name:"EndView",props:{version:String},data(){return{updateInfo:"<span class='updateListTitleNew'>Version 1.2</span><span class='updateListDate'>2023年3月25日</span><span class='updateListContext'>1.增加PWA(Progressive Web App)支持: 支持安装为应用、访问时使用缓存，让网页像本地应用一样运行<br>2.背景图在网页打开时会渐变变暗，形成暗角，不让背景图过亮与网页内容混在一起<br>3.修改了更新日志的样式<br>4.修复了一些bug(在网页宽度小于一个元素的宽度时报错无法显示 和 有时会出现的页面元素显示混乱)<br></span><br><span class='updateListTitleOld'>Version 1.1</span><span class='updateListDate'>2022年11月22日</span><span class='updateListContext'>1.将壁纸更新为1080P，并解决背景图加载卡住的问题(其实就是换了个链接)<br>2.降低分类标题视图的透明度和模糊值，让看起来更有毛玻璃的感觉<br>3.在底部增加版本显示，并加入更新日志<br></span><br><span class='updateListTitleOld'>Version 1.0</span><span class='updateListDate'>2022年11月11日</span><span class='updateListContext'>上线网站<br></span>"}},methods:{openVersionInfo(){z().alert(this.updateInfo,"更新日志",{showConfirmButton:!1,dangerouslyUseHTMLString:!0})}}},K=J,Q=(0,_.Z)(K,A,H,!1,null,"1c40d359",null),X=Q.exports,Y={data(){return{websiteItemList:{},networkEnv:"",websiteItemNum:-1,backgroundImgUrl:"https://lxc.world:13312/bingImg",newBackgroundImgUrl:"",newBGImgFlag:!1,loadStatus:"0",version:"1.2"}},components:{EndView:X,TopView:$,ListView:M},mounted(){this.$axios.get("./website-list.json").then((e=>{const t=e.data.websiteList;this.websiteItemList=t,this.websiteItemNum=0,t.forEach((e=>{e.list.forEach((()=>{this.websiteItemNum++}))}))})).catch((e=>{console.error(JSON.stringify(e)),alert("获取列表失败")})),document.addEventListener("documentRefreshBackgroundImage",(()=>{let e=new URL(this.backgroundImgUrl);e.searchParams.set("timestamp",Date.now().toString()),this.newBackgroundImgUrl=e,this.newBGImgFlag=!0,setTimeout((()=>{this.backgroundImgUrl=e,this.newBGImgFlag=!1}),1e3)})),window.onload=()=>{this.loadStatus="1"}}},ee=Y,te=(0,_.Z)(ee,h,b,!1,null,null,null),ne=te.exports,se=n(70),ae=n(153),ie=n.n(ae),re=n(5431);"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("controllerchange",(()=>{window.location.reload()})),navigator.serviceWorker.addEventListener("message",(e=>{if("RefreshBackgroundImage"===e.data){console.log("刷新照片");let e=new Event("documentRefreshBackgroundImage");document.dispatchEvent(e)}})),(0,re.z)("serviceWorker.js",{ready(){console.log("App is being served from cache by a service worker.")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use."),ie()({title:"ServiceWorker",message:"ServiceWorker 已经为离线访问做好准备",type:"success",position:"bottom-left"})},updatefound(){console.log("New content is downloading.")},updated(e){let t;console.log("New content is available; please refresh."),document.addEventListener("swConfirmUpdate",(()=>{e.waiting.postMessage("skipWaiting")})),document.addEventListener("swCancelUpdate",(()=>{t.close()}));const n='<spam>\n    <span>新版本已安装，是否刷新网页</span><br>\n    <button class="el-button el-button--mini"onclick="var event = new Event(\'swCancelUpdate\');document.dispatchEvent(event)">取消</button>\n    <button class="el-button el-button--primary el-button--mini" style="margin-left: 3px" onclick="var event = new Event(\'swConfirmUpdate\');document.dispatchEvent(event)">更新</button>\n</span>';console.log("ready"),t=ie()({title:"ServiceWorker",dangerouslyUseHTMLString:!0,message:n,type:"success"})},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}})),f["default"].use(v()),f["default"].use(g()),f["default"].use(m()),f["default"].use(d()),f["default"].use(l()),f["default"].use(r()),f["default"].use(a()),f["default"].config.productionTip=!1,f["default"].prototype.$axios=se.ZP,new f["default"]({render:e=>e(ne)}).$mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,i){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],i=e[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(o=!1,i<r&&(r=i));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[s,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)var d=l(n)}for(t&&t(s);c<r.length;c++)i=r[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},s=self["webpackChunkgo"]=self["webpackChunkgo"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4922)}));s=n.O(s)})();
//# sourceMappingURL=app.a9d8cd08.js.map